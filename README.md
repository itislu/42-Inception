*This project has been created as part of the 42 curriculum by ldulling.*

## Description

Inception is a system administration and Docker orchestration project that implements a small infrastructure composed of multiple services running in separate Docker containers. The goal is to set up a LEMP stack (Linux, Nginx, MariaDB, PHP) hosting a WordPress website, with each service running in its own dedicated container built from custom Dockerfiles.

The goal is to practice service isolation, networking, persistence, and safe credential handling with Docker Compose.

## Instructions

See [DEV_DOC.md](DEV_DOC.md).

## Project Description

This project uses **Docker** to containerize three core services:
- **Nginx**: Web server with TLS/SSL configuration
- **MariaDB**: Database server for WordPress
- **WordPress**: PHP-FPM based CMS

This stack is defined in [srcs/docker-compose.yml](srcs/docker-compose.yml) and built from the sources in `srcs/requirements/*`:
- `Dockerfile`: install minimal packages (all images use Alpine Linux as base image)
- `conf/`: service configuration (nginx, mariadb, php-fpm)
- `tools/`: scripts for runtime init (DB bootstrap, WP install via wp-cli, nginx config templating)

### Design Choices

- **Minimal** Alpine-based images with only required packages. All configs for the services are also as minimal as possible to keep the project simple.
- **TLS** enabled communication via Nginx (only host-exposed port is `443`).
- **Service isolation** via a Docker bridge network.
- **Persistence** via named volumes that are backed by custom host directories.
- **Credentials** are injected as Docker secrets, not baked into images with environment variables.

### Key Learnings

#### Virtual Machines vs Docker
- VMs virtualize hardware and run a full OS (kernel + user space) for each instance. This makes VMs heavy (GBs) and slower to boot.
- Docker virtualizes the OS, sharing the host kernel while isolating the user space (binaries/libraries). Docker containers are lightweight (MBs) and start almost instantly. This makes them ideal for microservices architecture like this project.

#### Secrets vs Environment Variables
- Env vars can leak in logs and inspection commands (unsafe for sensitive data like passwords).
- Secrets are mounted as read-only files in memory only (`/run/secrets/`), making them harder to leak.

#### Docker Network vs Host Network
- A Docker (bridge) network gives each container its own network namespace and IP address. This means a container can have an application that binds the same port as an application in a different container without conflict. Ports have to be explicitly exposed to the host if needed.
- The host network is simply the single network namespace of the host machine. If a container uses the host network, any application inside that container that binds to a port will occupy that port on the host's network, which can easily lead to port conflicts and fail.

#### Docker Volumes vs Bind Mounts
- Docker volumes are managed by Docker and abstract away the host filesystem structure.
- Bind mounts tie the container data directly to specific paths on the host filesystem.

## Resources

- Docker: https://docs.docker.com/manuals/ & https://docs.docker.com/reference/
- Nginx: https://developer.wordpress.org/advanced-administration/server/web-server/nginx/
- MariaDB: https://wiki.alpinelinux.org/wiki/MariaDB
- WordPress + wp-cli: https://wp-cli.org/#installing
- php-fpm: https://serverfault.com/questions/907465/rules-for-a-valid-pool-d-www-conf-file-for-php-fpm
- Self-signed SSL certificate: https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-nginx-in-ubuntu#step-1-creating-the-tls-certificate
- 42 Inception guide: https://medium.com/@ssterdev/inception-guide-42-project-part-i-7e3af15eb671
- Similar, more correct guide: https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-docker-compose

### AI Usage
- GitHub Copilot (Claude Sonnet 4.5): Generate initial minimal config files of applications I have really never *used* before (Nginx, MariaDB, WordPress, php-fpm) to see what is needed and reduce the scope of research.
- GitHub Copilot (GPT-5.2): Write drafts for documentation files to get an initial structure (editing is easier than writing from scratch for me). Each section then got reprompted or manually rewritten to make everything factually correct and more to my liking of what I would like to read myself.
- Google Gemini Pro: Chat back and forth to understand each line that was generated by Copilot and core concepts. Also help with rewording some documentation sections.
